<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    
    <!-- INHERIT AND EXTEND theme_default_snippets -->
    <template id="email_theme_dadi_snippets_overrides" inherit_id="fso_website_email.theme_default_snippets" name="Email Theme Dadi Snippet overrides">
        
        <!-- Additional Button Options -->
        <xpath expr="//div[@data-snippet-option-id='drop_in_button_style']//ul/li[1]" position="after">
            <li data-value='dadi_di_button_orange'><a>Orange</a></li>
            <li data-value='dadi_di_button_blue'><a>Blue</a></li>
            <li data-value='dadi_di_button_pink'><a>Pink</a></li>
        </xpath>
        
        <!-- Additional Foreground styles -->
        <xpath expr="//div[@data-snippet-option-id='dadi_sb_fg_color']//ul/li[1]" position="after">
            <li data-value='dadi_sb_fg_blue'><a>Blue</a></li>
            <li data-value='dadi_sb_fg_pink'><a>Pink</a></li>
        </xpath>
        
        <!-- Additional Background styles -->
        <xpath expr="//div[@data-snippet-option-id='dadi_sb_bg_color']//ul/li[1]" position="after">
            <li data-value='dadi_sb_bg_blue'><a>Blue</a></li>
            <li data-value='dadi_sb_bg_pink'><a>Pink</a></li>
        </xpath>
        
    </template>
    
    <!-- THEME 'DADI' SNIPPETS -->
    <template id="email_theme_dadi_snippets">
        <!-- Simply Load theme_default_snippets :) -->
        <t t-call="fso_website_email.theme_default_snippets"/>
    </template>
    
    
    <!-- THEME 'DADI' ASSETS -->
    <!-- ATTENTION: At least on local css <link> or inline <style> tag  (even if just empty) MUST exist in an assets template -->
    <template id="email_theme_dadi_assets">
        <link href='/fso_website_email_dadi/static/src/css/email_theme_dadi.css' rel='stylesheet' type='text/css' t-ignore="true"/>
    </template>
    
    <!-- THEME 'DADI' ASSETS EDITMODE -->
    <!-- ATTENTION: At least on local css <link> or inline <style> tag MUST exist in an assets template -->
    <template id="email_theme_dadi_assets_editmode">
        
        <!-- Snippets template URL -->
        <script type="text/javascript">
            //<![CDATA[
                (function () {
                    'use strict';
                    var website = openerp.website;
                    website.if_dom_contains('#email_designer', function () {
                        website.snippet.BuildingBlock.include({
                            _get_snippet_url: function () {
                                return '/fso/email/snippets?snippets_template=fso_website_email_dadi.email_theme_dadi_snippets';
                            }
                        });
                    });
                })();
            //]]>
        </script>
        
        <!-- Override CKEditor Settings -->
        <script type="text/javascript">
            //<![CDATA[
            (function () {
                'use strict';
                // Overwrite class method of website/static/src/js/website.editor.js@839
                // to append/set/override CKEDITOR.config for wrapwrap editor
                openerp.website.RTE = openerp.website.RTE.extend({
                    _config: function () {
                        // Run the original method to modify it's result
                        var config =  this._super();
                        
                        // Set custom toolbar
                        // https://docs.ckeditor.com/ckeditor4/latest/guide/dev_toolbar.html
                        config.toolbar = [{
                            name: 'basicstyles', items: [
                                "Bold", "Italic", "Underline", "Strike", "Subscript",
                                "Superscript", "TextColor", "BGColor", "RemoveFormat"
                            ]
                        }, {
                            name: 'span', items: [
                                "Link", "Blockquote", "BulletedList",
                                "NumberedList", "Indent", "Outdent"
                            ]
                        }, {
                            name: 'justify', items: [
                                "JustifyLeft", "JustifyCenter", "JustifyRight", "JustifyBlock"
                            ]
                        }, {
                            name: 'special', items: [
                                "Image"
                            ]
                        }, {
                            name: 'styles', items: [
                                "Styles"
                            ]
                        }
                        ];
                        
                        // Add Custom font and font background colors
                        config.colorButton_colors = 'ffffff,555555,000000,cccccc,b32986,f49800,407cca,57c940,c9c940,c94740';
                        // config.colorButton_colorsPerRow = 4;
                        // config.colorButton_enableAutomatic = true;
                        
                        // return the config
                        return config;
                    }
                });
            })();
            //]]>
        </script>
        
        <style>
            /* fix sticky header space and add bottom space in edit mode */
            #wrapwrap {
                margin-top: 42px;
                margin-bottom: 600px;
            }
        </style>
    </template>
    

    <template id="email_theme_dadi"
              name="Dadi Theme">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
        <html t-att-lang="lang and lang.replace('_', '-')"
              t-att-data-website-id="website and website.id or None"
              t-att-data-editable="'1' if editable else None"
              t-att-data-translatable="'1' if translatable else None"
              t-att-data-view-xmlid="xmlid if editable else None"
              t-att-data-main-object="repr(main_object) if editable else None"
              t-att-data-oe-company-name="res_company.name if editable else None"
              class="ckediting_disabled">

            <!-- TEMPLATE SETTINGS -->
            <!-- ================= -->
            <t t-set="load_default_theme" t-value="True"/>
            <!-- ================= -->

            <head>
                <!-- COMMON CSS-ASSETS AND <head> TAGS -->
                <t t-call="fso_website_email.theme_head_common"/>
                
                <!-- THEME DADI CSS-ASSETS IN EDIT MODE ONLY -->
                <t t-if="email_editor_mode">
                    <t t-call-assets="fso_website_email_dadi.email_theme_dadi_assets_editmode" t-js="false"/>
                </t>
                
                <!-- THEME DADI CSS-ASSETS -->
                <t t-call-assets="fso_website_email_dadi.email_theme_dadi_assets" t-js="false"/>
                
                <meta name="viewport" content="width=device-width"/>
            </head>


            <body class="ckediting_disabled">
                <!-- WRAP COMMON ASSETS AND BODY TAGS AROUND THEME 'DADI' -->
                <t t-call="fso_website_email.theme_body_common">

                    <!-- ============ -->
                    <!-- THEME 'DADI' -->
                    <!-- ============ -->
                    <center>
                        <table id="bodyTable" class="ckediting_disabled" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%">

                            <!-- HEADER -->
                            <tr>
                                <td class="headerCell ckediting_disabled" align="center">
                                    <a id="view-email-in-browser"
                                       href="http://multimail.datadialog.net/view.php/%xGuid%" target="_blank">
                                        Wenn diese Nachricht nicht richtig angezeigt wird, verwenden Sie bitte die Online-Version
                                    </a>
                                </td>
                            </tr>

                            <!-- MAIN -->
                            <tr>
                                <!-- bodyCell width: 100% padding: 0 left and right  -->
                                <td id="bodyCell" class="ckediting_disabled" align="center" valign="top">
                                    
                                    <!-- emailBody width: 600 px padding: 0  margin: 0 -->
                                    <table id="emailBody" class="ckediting_disabled" border="0" cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td class="ckediting_disabled" align="center" valign="top">

                                                <!-- CONTENT ('html_body' field of email.template) -->
                                                <t t-call="fso_website_email.content"/>

                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>

                            <!-- FOOTER -->
                            <tr>
                                <td align="center" class="footerCell ckediting_disabled">
                                    
                                    <table class="centeringTable" cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table class="flexibleContainer" border="0" cellpadding="0" cellspacing="0">
                                                    <tr>
                                                        <td class="flexibleContainerCell" align="center" valign="top">
                                                            <table class="nestedContainer" border="0" cellpadding="0" cellspacing="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="nestedContainerCell" align="center" valign="top">
                                                                            <table class="contentTable" border="0" cellpadding="0" cellspacing="0">
                                                                                <tr>
                                                                                    <td class="textContent ckediting_disabled" align="center" valign="top" contenteditable="false">
                                                                                    
                                                                                        <a href="https://www.datadialog.net" target="_blank">www.datadialog.net</a>&amp;nbsp;|&amp;nbsp;
                                                                                        <a href="http://www.datadialog.net/page/website.contactus" target="_blank">Kontaktformular</a>&amp;nbsp;|&amp;nbsp;
                                                                                        <!-- a href="mailto:office@datadialog.net" target="_blank">E-Mail</a>&amp;nbsp;|&amp;nbsp; -->
                                                                                        <a href="mailto:contact@datadialog.net" target="_blank">vom Newsletter abmelden?</a>
                                                    
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    
                                    
                                </td>
                            </tr>

                        </table>
                    </center>

                </t>
                
                <!-- THEME DADI JAVA SCRIPT ASSETS IN EDIT MODE ONLY -->
                <t t-if="email_editor_mode">
                    <t t-call-assets="fso_website_email_dadi.email_theme_dadi_assets_editmode" t-css="false"/>
                </t>
                
                <!-- THEME DADI JAVA SCRIPT ASSETS -->
                <t t-call-assets="fso_website_email_dadi.email_theme_dadi_assets" t-css="false"/>
            </body>

        </html>
    </template>

    <!-- Enable the boolean field 'fso_email_template' for this theme to show it at the 'fso/email/select' page -->
    <record id="fso_website_email_dadi.email_theme_dadi" model="ir.ui.view">
        <field name="fso_email_template" eval="True"/>
    </record>

</data>
</openerp>
